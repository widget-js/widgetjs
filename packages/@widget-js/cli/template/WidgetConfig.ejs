<template>
    <widget-edit-dialog :widget-params="widgetParams" :option="widgetConfigOption"
                        :widget-data="widgetData"
                        @confirm="onSaveClick()">
        <template v-slot:form>
            <!--  TODO 这里写自定义表单内容          -->
        </template>
    </widget-edit-dialog>
</template>

<script lang="ts" setup>
import {useWidget, WidgetConfigOption,WidgetEditDialog} from "@widget-js/vue3";
import {WidgetData, WidgetDataApi} from "@widget-js/core";
import {reactive} from "vue";

const {widgetData, widgetParams} = useWidget(WidgetData)

//修改成需要设置组件参数配置
const widgetConfigOption = reactive(new WidgetConfigOption({
    custom: true,
    backgroundColor: true,
    borderRadius: true,
    preview: false
}));

const onSaveClick = async () => {
    await WidgetDataApi.save(widgetData);
    window.close();
}
</script>

<style scoped>

</style>
